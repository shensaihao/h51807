"use strict";require(["config"],function(){require(["jquery","header","template","jquerycookie","ceiling","booNavigation","zoom","footer"],function(r,e,t){new Promise(function(e,o){r("header").load("/html/component/header.html",function(){e()}),r("footer").load("/html/component/footer.html")}).then(function(){r("header").ceiling("xiding")}).then(function(){e.login()}).then(function(){r("#booNavigation").booNavigation({slideSpeed:600,fadeSpeed:400,delay:500})}).then(function(){}).then(function(){var e=location.search.slice(1).split("=");console.log(e);var i=e[1],a=null;r.ajax({type:"get",data:{id:i},dataType:"json",url:"http://localhost/Esteelauder/app/php/detail.php",success:function(e){a=e[0];var o=t("pro-detail",{products:e});r("#details_page")[0].innerHTML=o},complete:function(){var n=[];r.cookie("cart")&&(n=JSON.parse(r.cookie("cart"))),console.log(a),r("#add_cart").click(function(){for(var e=r(".else_num option:selected").attr("value"),o=0;o<n.length;o++)if(n[o].id==i){n[o].num+=parseInt(e);break}o===n.length&&(a.num=parseInt(e),n.push(a)),a.information=null;var t=JSON.stringify(n);console.log(t),r.cookie("cart",t,{path:"/",expires:7}),alert("添加购物车成功！")})}})})})});