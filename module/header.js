"use strict";define(["jquery","jquerycookie"],function(s){function e(){}return e.prototype.login=function(){s("#loginBtn").click(function(){s("#overLay").show(),s("#loginBox").show(function(){s("#registerBtn").click(function(){s(".login_login").show(),s(".regist_login").hide()}),s("#loginButton").click(function(){s(".login_login").hide(),s(".regist_login").show()}),s("#closeBtn").click(function(){s("#overLay").hide(),s("#loginBox").hide()}),s("#read").click(function(){s("#read").hide().siblings().show()}),s("#cRead").click(function(){s("#cRead").hide().prev().show()}),s("#disagree").click(function(){s("#disagree").hide().siblings().show()}),s("#cDisagree").click(function(){s("#cDisagree").hide().prev().show()}),s("#showPasd").click(function(){s("#showPasd").hide().siblings().show(),s("#logPasw")[0].type="text"}),s("#cShowPasd").click(function(){s("#cShowPasd").hide().prev().show(),s("#logPasw")[0].type="password"})})}),this.registerIn(),this.loginIn()},e.prototype.registerIn=function(){var c=0;s("#checkbox-label1 span").click(function(){c++,console.log(c)}),s("#_register").submit(function(e){var n=s("#logFirstName").val(),o=s("#logEmail").val(),i=s("#logPasw").val(),t=s("#logPhone").val();console.log(123);var a=/^\w{6,16}$/,l=!0;return c%2!=0?(l=!1,alert("请先阅读条款！")):""===n||""===o||""===i||""===t?(alert("请完整填写注册信息！"),l=!1):(n.match(a)||(alert("请输入只包含数字字母下划线的用户名！"),l=!1),o.match(/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/)||(alert("请输入正确的邮箱！"),l=!1),i.match(a)||(alert("请输入只包含数字字母下划线的6-16位密码！"),l=!1),t.match(/^1(3|4|5|7|8)\d{9}$/)||(alert("请输入正确手机号!"),l=!1)),l&&s.ajax({type:"POST",dataType:"json",url:"http://localhost/Esteelauder/app/php/register.php",data:{username:n,email:o,password:i,phonenum:t},success:function(e){e.exist?alert("该手机号已被注册！"):1===e.code&&(alert("注册成功！即将为你跳转到登录界面"),s("#loginButton").click())}}),e.preventDefault(),!1})},e.prototype.loginIn=function(){s("#_login").submit(function(e){var n=s("#resPassword").val(),o=s("#resPhone").val(),i=!0;return""===n||""===o?(alert("请完整填写登录信息！"),i=!1):(n.match(/^\w{6,16}$/)||(alert("请输入只包含数字字母下划线的6-16位密码！"),i=!1),o.match(/^1(3|4|5|7|8)\d{9}$/)||(alert("请输入正确手机号!"),i=!1)),i&&s.ajax({type:"POST",dataType:"json",url:"http://localhost/Esteelauder/app/php/login.php",data:{password:n,phonenum:o},success:function(e){e&&(alert("登录成功！"),s("#closeBtn").click(),s("#loginBtn").hide(),s("#user_name").show().find("i").html(e[0].username),s("#exit").show(function(){s("#exit").click(function(){s("#loginBtn").show(),s("#exit").hide(),s("#user_name").hide()})}))}}),e.preventDefault(),!1})},new e});